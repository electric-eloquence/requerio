function getMeasurement$1(e,t,o){return e.$members&&e.$members[o]?e.$members[o]["_"+t]:null}function setMeasurement(e,t,o,r){if(!e.$members)return e;for(let s=0;s<e.$members.length;s++){if("number"==typeof r&&r!==s)continue;let n;n="function"==typeof o?parseFloat(o.call(e[s],s,e.$members[s]["_"+t])):parseFloat(o),e.$members[s]["_"+t]=n}return e}var organismsIncept=(e,t)=>{for(const o of Object.keys(e)){if(e[o]&&e[o].hasRequerio)continue;let r;if("window"===o)"object"==typeof window?(r=t(window),"object"==typeof global&&(r.$members=[{}])):r=t(o);else if("document"===o)"object"==typeof document?(r=t(document),"object"==typeof global&&(r.$members=[{}])):r=t(o);else{const e=t(o);if(!e.length)continue;r=e}r.prevAction=null,void 0===r.selector&&(r.selector=o),"window"!==o&&"document"!==o&&r.populateMembers(),void 0===r.innerWidth&&(r.innerWidth=((e,t)=>null==e?getMeasurement$1(r,"innerWidth",t||0):setMeasurement(r,"innerWidth",e,t))),void 0===r.innerHeight&&(r.innerHeight=((e,t)=>null==e?getMeasurement$1(r,"innerHeight",t||0):setMeasurement(r,"innerHeight",e,t))),void 0===r.outerWidth&&(r.outerWidth=((e,t)=>null==e?getMeasurement$1(r,"outerWidth",t||0):setMeasurement(r,"outerWidth",e,t))),void 0===r.outerHeight&&(r.outerHeight=((e,t)=>null==e?getMeasurement$1(r,"outerHeight",t||0):setMeasurement(r,"outerHeight",e,t))),(void 0===r.scrollTop||"object"==typeof global&&"window"===r.selector)&&(r.scrollLeft=((e,t)=>null==e?getMeasurement$1(r,"scrollLeft",t||0):setMeasurement(r,"scrollLeft",e,t))),(void 0===r.scrollTop||"object"==typeof global&&"window"===r.selector)&&(r.scrollTop=((e,t)=>null==e?getMeasurement$1(r,"scrollTop",t||0):setMeasurement(r,"scrollTop",e,t))),void 0===r.width&&(r.width=((e,t)=>null==e?getMeasurement$1(r,"width",t||0):setMeasurement(r,"width",e,t))),void 0===r.height&&(r.height=((e,t)=>null==e?getMeasurement$1(r,"height",t||0):setMeasurement(r,"height",e,t))),e[o]=r}};function getActiveOrganism(e,t){if("object"==typeof document&&document.activeElement&&document.activeElement!==document.body){if(document.activeElement.tagName&&t&&document.activeElement.tagName.toLowerCase()===t.toLowerCase())return t;for(let e=0;e<document.activeElement.attributes.length;e++){const o=document.activeElement.attributes[e];if("id"===o.name&&`#${o.value}`===t||"class"===o.name&&`.${o.value}`===t)return t}for(const t of Object.keys(e)){const o=e[t];if(o)for(let e=0;e<o.length;e++){const t=o[e];if("object"==typeof global&&"object"==typeof document&&global.$._root&&global.$._root.attribs){if(!document.activeElement.tagName||!t.name||document.activeElement.tagName.toLowerCase()!==t.name.toLowerCase())continue;for(let e=0;e<document.activeElement.attributes.length;e++){const r=document.activeElement.attributes[e];if("id"===r.name&&r.value===t.attribs.id||"class"===r.name&&r.value===t.attribs.class)return o.selector}}else if(document.activeElement===t)return o.selector}}}}var postInception=e=>{const{$orgs:t,store:o}=e;for(const r of Object.keys(t)){if(!t[r]||t[r]&&t[r].hasRequerio)continue;const s=t[r];if(s.hasRequerio=!0,t.document){let o=()=>{};"function"==typeof s.blur&&(o=s.blur),s.blur=(()=>{o.call(s),"object"==typeof global&&document&&document.querySelector&&document.querySelector(s.selector).blur(),e.store.getState().document.activeOrganism===s.selector&&t.document.dispatchAction("setActiveOrganism",null)})}if(t.document){let e=()=>{};"function"==typeof s.focus&&(e=s.focus),s.focus=(()=>{e.call(s),"object"==typeof global&&document&&document.querySelector&&document.querySelector(s.selector)&&document.querySelector(s.selector).focus(),t.document.dispatchAction("setActiveOrganism",s.selector)})}"window"!==r&&"document"!==r||(s.getState=(()=>{if("document"===r&&"object"==typeof document){const e=o.getState()[r].activeOrganism,n=getActiveOrganism(t,e);void 0!==n&&n!==e&&s.dispatchAction("setActiveOrganism",n)}const e=o.getState()[r];let n;return n=s.updateMeasurements(e)?o.getState()[r]:e}))}};function applyMethod(e,t,o,r){if(Array.isArray(r))for(let e=0;e<r.length;e++)"function"==typeof r[e][t]&&r[e][t].apply(r[e],o);else r?"function"==typeof r[t]&&r[t].apply(r,o):"function"==typeof e[t]&&e[t].apply(e,o)}function applyData(e,t,o){if(t[0]&&"object"==typeof t[0]&&applyMethod(e,"data",t,o),Array.isArray(o))for(let e=0;e<o.length;e++){const r=o[e].data.apply(o[e]);t[0]=r;break}else if(o){const e=o.data.apply(o);t[0]=e}else{const o=e.data.apply(e);t[0]=o}}function applyMeasurement(e,t,o,r,s){let n;if(Array.isArray(r)&&Array.isArray(s))for(let i=0;i<r.length;i++)"object"==typeof window?"function"==typeof r[i][t]&&r[i][t].apply(r[i],o):"function"==typeof e[t]&&(n=e[t].call(e,o[0],s[i]));else r&&"number"==typeof s?"object"==typeof window?"function"==typeof r[t]&&r[t].apply(r,o):"function"==typeof e[t]&&(n=e[t].call(e,o[0],s)):"object"==typeof window?"function"==typeof e[t]&&e[t].apply(e,o):"function"==typeof e[t]&&(n=e[t].call(e,o[0]));return n}function convertMethodToType(e){return e.replace(/([A-Z])/g,"_$1").toUpperCase()}function getBoundingClientRect(e,t,o){if(Array.isArray(o))for(let r=0;r<o.length;r++){const s=o[r];"function"==typeof e.getBoundingClientRect?t[0]=e.getBoundingClientRect.call(e,s):"object"==typeof window&&e[s]&&"function"==typeof e[s].getBoundingClientRect&&(t[0]=e[s].getBoundingClientRect.call(e[s]))}else"number"==typeof o?"function"==typeof e.getBoundingClientRect?t[0]=e.getBoundingClientRect.call(e,o):"object"==typeof window&&e[o]&&"function"==typeof e[o].getBoundingClientRect&&(t[0]=e[o].getBoundingClientRect.call(e[o])):"function"==typeof e.getBoundingClientRect?t[0]=e.getBoundingClientRect.call(e):"object"==typeof window&&e[0]&&"function"==typeof e[0].getBoundingClientRect&&(t[0]=e[0].getBoundingClientRect.call(e[0]));return t}function getMeasurementSwitch(e,t,o={},r){switch(t){case"innerWidth":return"window"===e.selector?r.innerWidth:"document"===e.selector?void 0:"content-box"===o.boxSizing?parseFloat(o.width)+(parseFloat(o.paddingLeft)||0)+(parseFloat(o.paddingRight)||0):parseFloat(o.width)-(parseFloat(o.borderLeftWidth)||0)-(parseFloat(o.borderRightWidth)||0);case"innerHeight":return"window"===e.selector?r.innerHeight:"document"===e.selector?void 0:"content-box"===o.boxSizing?parseFloat(o.height)+(parseFloat(o.paddingTop)||0)+(parseFloat(o.paddingBottom)||0):parseFloat(o.height)-(parseFloat(o.borderTopWidth)||0)-(parseFloat(o.borderBottomWidth)||0);case"outerWidth":return"window"===e.selector?r.outerWidth:"document"===e.selector?void 0:"content-box"===o.boxSizing?parseFloat(o.width)+(parseFloat(o.paddingLeft)||0)+(parseFloat(o.paddingRight)||0)+(parseFloat(o.borderLeftWidth)||0)+(parseFloat(o.borderRightWidth)||0)+(parseFloat(o.marginLeft)||0)+(parseFloat(o.marginRight)||0):parseFloat(o.width)+(parseFloat(o.marginLeft)||0)+(parseFloat(o.marginRight)||0);case"outerHeight":return"window"===e.selector?r.outerHeight:"document"===e.selector?void 0:"content-box"===o.boxSizing?parseFloat(o.height)+(parseFloat(o.paddingTop)||0)+(parseFloat(o.paddingBottom)||0)+(parseFloat(o.borderTopWidth)||0)+(parseFloat(o.borderBottomWidth)||0)+(parseFloat(o.marginTop)||0)+(parseFloat(o.marginBottom)||0):parseFloat(o.height)+(parseFloat(o.marginTop)||0)+(parseFloat(o.marginBottom)||0);case"scrollLeft":return"window"===e.selector?"object"==typeof global&&"object"==typeof window?e.$members[0]._scrollLeft:r.pageXOffset:"document"===e.selector?r.documentElement.scrollLeft:r.scrollLeft;case"scrollTop":return"window"===e.selector?"object"==typeof global&&"object"==typeof window?e.$members[0]._scrollTop:r.pageYOffset:"document"===e.selector?r.documentElement.scrollTop:r.scrollTop;case"width":return"window"===e.selector?r.innerWidth:"document"===e.selector?Math.max(r.body.scrollWidth,r.documentElement.scrollWidth,r.body.offsetWidth,r.documentElement.offsetWidth,r.documentElement.clientWidth):"content-box"===o.boxSizing?parseFloat(o.width):parseFloat(o.width)-(parseFloat(o.paddingLeft)||0)-(parseFloat(o.paddingRight)||0)-(parseFloat(o.borderLeftWidth)||0)-(parseFloat(o.borderRightWidth)||0);case"height":return"window"===e.selector?r.innerHeight:"document"===e.selector?Math.max(r.body.scrollHeight,r.documentElement.scrollHeight,r.body.offsetHeight,r.documentElement.offsetHeight,r.documentElement.clientHeight):"content-box"===o.boxSizing?parseFloat(o.height):parseFloat(o.height)-(parseFloat(o.paddingTop)||0)-(parseFloat(o.paddingBottom)||0)-(parseFloat(o.borderTopWidth)||0)-(parseFloat(o.borderBottomWidth)||0)}}function getMeasurement(e,t,o,r,s,n){if(Array.isArray(s))for(let i=0;i<s.length;i++){"object"==typeof window?o[0]=getMeasurementSwitch(e,t,r,s[i][0]):"function"==typeof e[t]&&(o[0]=applyMeasurement(e,t,[null],s,n));break}else s?"object"==typeof window?o[0]=getMeasurementSwitch(e,t,r,s[0]):"function"==typeof e[t]&&(o[0]=applyMeasurement(e,t,[null],s,n)):"object"==typeof window?"window"===e.selector?o[0]=getMeasurementSwitch(e,t,r,window):"document"===e.selector?o[0]=getMeasurementSwitch(e,t,r,document):o[0]=getMeasurementSwitch(e,t,r,e[0]):"function"==typeof e[t]&&(o[0]=applyMeasurement(e,t,[null]));return o[0]=isNaN(o[0])?void 0:o[0],o}var prototypeOverride=e=>{const{$:t,$orgs:o,store:r}=e,s=t.prototype.after;t.prototype.after=function(){const e=[],t=this.parent();if(arguments.length)for(const r of Object.keys(o)){const s=o[r];if(s)for(let o=0;o<t.length;o++)if(s.parents(t[o]).length){e.push(s);break}}const r=s.apply(this,arguments);return arguments.length&&(this.resetElementsAndMembers(),e.forEach(e=>e.resetElementsAndMembers())),r};const n=t.prototype.append;t.prototype.append=function(){const e=[];if(arguments.length)for(const t of Object.keys(o)){const r=o[t];if(r)for(let t=0;t<this.length;t++)if(r.parents(this[t]).length){e.push(r);break}}const t=n.apply(this,arguments);return arguments.length&&(this.resetElementsAndMembers(),e.forEach(e=>e.resetElementsAndMembers())),t};const i=t.prototype.before;t.prototype.before=function(){const e=[],t=this.parent();if(arguments.length)for(const r of Object.keys(o)){const s=o[r];if(s)for(let o=0;o<t.length;o++)if(s.parents(t[o]).length){e.push(s);break}}const r=i.apply(this,arguments);return arguments.length&&(this.resetElementsAndMembers(),e.forEach(e=>e.resetElementsAndMembers())),r},t.prototype.blur||(t.prototype.blur=function(){});const l=t.prototype.detach;t.prototype.detach=function(){const e=[];for(const t of Object.keys(o))if(o[t])for(let r=0;r<this.$members.length;r++)if(this.$members[r].parent(t).length){e.push(o[t]);break}return"function"==typeof l?l.apply(this):this.remove(),e.forEach(e=>e.resetElementsAndMembers()),this},t.prototype.dispatchAction=function(e,o,s){const n=convertMethodToType(e);let i,l=[];null!=o&&(l=[o]);let c=s,a=0;if(Array.isArray(this.$members))if(this.$members.forEach(()=>a++),a<this.$members.length&&(c=[],this.$members.forEach((e,t)=>c.push(t))),Array.isArray(c)){i=[];for(let e=0;e<c.length;e++)i.push(t(this[c[e]]))}else if("number"==typeof c){if(void 0===this[c])return;i=t(this[c])}switch(e){case"attr":case"css":applyMethod(this,e,l,i);break;case"data":applyData(this,l,i);break;case"empty":applyMethod(this,e,l,i||this.$members);break;case"getBoundingClientRect":if("window"===this.selector||"document"===this.selector)break;getBoundingClientRect(this,l,c);break;case"html":case"append":case"prepend":case"text":{let t,o;if(l.length&&applyMethod(this,e,l,i),Array.isArray(i)&&Array.isArray(c))if(l.length)if("object"==typeof window)for(let r=0;r<c.length;r++){const s=c[r];if(this[s]){t="html"===e&&null!==l[0]?l[0]:this[s].innerHTML,o="text"===e&&null!==l[0]?l[0]:this[s].textContent;break}}else for(let r=0;r<i.length;r++){const s=i[r];if(s){t="html"===e&&null!==l[0]?l[0]:s.html(),o="text"===e&&null!==l[0]?l[0]:s.text();break}}else for(let e=0;e<i.length;e++){const s=i[e];let n,l;"object"==typeof window?s&&s[0]&&(n=s[0].innerHTML,l=s[0].textContent):s&&(n=s.html(),l=s.text()),r.dispatch({type:"HTML",selector:this.selector,$org:this,method:"html",args:[n],i:e}),r.dispatch({type:"TEXT",selector:this.selector,$org:this,method:"text",args:[l],i:e}),0===e&&(t=n,o=l)}else i&&"number"==typeof c?"object"==typeof window?i[0]&&(t=i[0].innerHTML,o=i[0].textContent):(t=i.html(),o=i.text()):"object"==typeof window?this[0]&&(t=this[0].innerHTML,o=this[0].textContent):(t=this.html(),this.$members[0]&&"function"==typeof this.$members[0].text&&(o=this.$members[0].text()));"html"!==e&&null!=t&&r.dispatch({type:"HTML",selector:this.selector,$org:this,method:"html",args:[t],memberIdx:c}),"text"!==e&&null!=o&&r.dispatch({type:"TEXT",selector:this.selector,$org:this,method:"text",args:[o],memberIdx:c}),"html"===e&&null==l[0]&&(l[0]=t),"text"===e&&null==l[0]&&(l[0]=o);break}case"innerWidth":case"innerHeight":case"outerWidth":case"outerHeight":case"scrollLeft":case"scrollTop":case"width":case"height":{let t={};if("object"==typeof window&&"window"!==this.selector&&"document"!==this.selector)if(Array.isArray(c)){for(let e=0;e<c.length;e++)if(this[c[e]]){t=window.getComputedStyle(this[c[e]]);break}}else i&&"number"==typeof c?i[0]&&(t=window.getComputedStyle(i[0])):t=window.getComputedStyle(this[0]);l.length?applyMeasurement(this,e,l,i,c):getMeasurement(this,e,l,t,i);break}case"setActiveOrganism":case"setBoundingClientRect":break;case"toggleClass":Array.isArray(l[0])&&(l=l[0]),applyMethod(this,e,l,i);break;default:applyMethod(this,e,l,i)}return void 0===s&&Array.isArray(this.$members)&&a<this.$members.length&&this.populateMembers(),this.prevAction=r.dispatch({type:n,selector:this.selector,$org:this,method:e,args:l,memberIdx:c}),this};const c=t.prototype.empty;t.prototype.empty=function(){const e=[];for(const t of Object.keys(o)){const r=o[t];for(let t=0;t<this.length;t++)if(r&&r.parents(this[t]).length){e.push(r);break}}const t=c.apply(this);return this.resetElementsAndMembers(),e.forEach(e=>e.resetElementsAndMembers()),t},t.prototype.exclude=function(e){if("function"==typeof e)return this.each((t,o)=>{e.call(o,t,o)&&delete this.$members[t]}),this;{let o=e;e.constructor!==t&&(o=t(e));const r=[];this.each(e=>{this.$members[e]&&this.$members[e][0]&&r.push(this.$members[e][0])});for(let e=0;e<r.length;e++)o.each((t,o)=>{r[e]===o&&delete this.$members[e]});return this}},t.prototype.focus||(t.prototype.focus=function(){}),"object"==typeof global&&(t.prototype.getBoundingClientRect=function(e){const t=r.getState()[this.selector];let o={};"number"==typeof e?t.$members[e]&&t.$members[e].boundingClientRect&&(o=t.$members[e].boundingClientRect):o=t.boundingClientRect;for(const e of Object.keys(o))if(null!==o[e])return o;return{bottom:null,height:null,left:null,right:null,top:null,width:null}}),t.prototype.getState=function(e){const o=this.$members[e];let s,n=0,i=!1;if("number"==typeof e&&(n=e,(s=r.getState()[this.selector].$members[e])||(i=!0)),!this[n])return null;if(s||(s=r.getState()[this.selector]),!s)return null;i=this.updateMeasurements(s,o,e)||i;let l,c={};if("object"==typeof window){const e=this[n].attributes;for(let t=0;t<e.length;t++)c[e[t].name]=e[t].value}else c=this[n].attribs;if(s.attribs&&JSON.stringify(s.attribs)!==JSON.stringify(c)&&(r.dispatch({type:"ATTR",selector:this.selector,$org:this,method:"attr",args:[c],memberIdx:e}),i=!0),l="object"==typeof window?this[n].innerHTML:o?o.html():this.html(),s.html&&s.html!==l){r.dispatch({type:"HTML",selector:this.selector,$org:this,method:"html",args:[l],memberIdx:e});const o=t("<div></div>").html(l).text();s.textContent!==o&&r.dispatch({type:"TEXT",selector:this.selector,$org:this,method:"text",args:[o],memberIdx:e}),i=!0}void 0===e&&this.length!==s.members&&(r.dispatch({type:"",selector:this.selector,$org:this}),i=!0);let a,h={};for(const e of Object.keys(s.prop))"object"==typeof window?e in this[n]&&(h[e]=this[n][e]):h[e]=o?o.prop(e):this.prop(e);if(JSON.stringify(s.prop)!==JSON.stringify(h)&&(r.dispatch({type:"PROP",selector:this.selector,$org:this,method:"prop",args:[h],memberIdx:e}),i=!0),void 0!==s.val||void 0!==this[n].value){let t;(t="object"==typeof window?this[n].value:o?o.val():this.val())!==s.val&&(r.dispatch({type:"VAL",selector:this.selector,$org:this,method:"val",args:[t],memberIdx:e}),i=!0)}return i&&(s="number"==typeof e?r.getState()[this.selector].$members[e]:r.getState()[this.selector]),"number"==typeof e?(delete(a=JSON.parse(JSON.stringify(s))).$members,delete a.members):a=s,a},t.prototype.getStore=function(){return r},t.prototype.hasChild=function(e){for(let t=0;t<this.$members.length;t++){if(this.$members[t]){const o=this.$members[t].children(e);if(o.length){if("string"==typeof e)continue;if(o[0]===e)continue}}delete this.$members[t]}return this},t.prototype.hasElement=function(e){for(let t=0;t<this.$members.length;t++)this.$members[t]&&this.$members[t][0]===e||delete this.$members[t];return this},t.prototype.hasNext=function(e){for(let t=0;t<this.$members.length;t++){if(this.$members[t]){const o=this.$members[t].next(e);if(o.length){if("string"==typeof e)continue;if(o[0]===e)continue}}delete this.$members[t]}return this},t.prototype.hasParent=function(e){for(let t=0;t<this.$members.length;t++){if(this.$members[t]){const o=this.$members[t].parent(e);if(o.length){if("string"==typeof e)continue;if(o[0]===e)continue}}delete this.$members[t]}return this},t.prototype.hasPrev=function(e){for(let t=0;t<this.$members.length;t++){if(this.$members[t]){const o=this.$members[t].prev(e);if(o.length){if("string"==typeof e)continue;if(o[0]===e)continue}}delete this.$members[t]}return this},t.prototype.hasSelector=function(e){const o=t(e);for(let e=0;e<this.$members.length;e++){if(!this.$members[e])continue;let t=!1;for(let r=0;r<o.length;r++)if(this.$members[e][0]===o[r]){t=!0;break}t||delete this.$members[e]}return this},t.prototype.hasSibling=function(e){for(let t=0;t<this.$members.length;t++){if(!this.$members[t])continue;!!this.$members[t].siblings(e).length||delete this.$members[t]}return this};const a=t.prototype.html;t.prototype.html=function(){const e=[];if(arguments.length)for(const t of Object.keys(o)){const r=o[t];for(let t=0;t<this.length;t++)if(r&&r.parents(this[t]).length){e.push(r);break}}const t=a.apply(this,arguments);return arguments.length&&(this.resetElementsAndMembers(),e.forEach(e=>e.resetElementsAndMembers())),t},t.prototype.populateMembers=function(){if(!(this.selector&&this.selector in o))return;if("window"===this.selector||"document"===this.selector)return;const e=this,r=t(e.selector);let s=e.length,n=!1;e.$members=[],e.length>r.length?n=!0:e.length<r.length&&(s=r.length,n=!0);for(let o=0;o<s;o++)n&&(void 0!==e[o]&&void 0===r[o]?delete e[o]:e[o]=r[o],e.length=r.length),void 0!==r[o]&&e.$members.push(t(r[o]))};const h=t.prototype.prepend;t.prototype.prepend=function(){const e=[],t=this.parent();if(arguments.length)for(const r of Object.keys(o)){const s=o[r];if(s)for(let o=0;o<t.length;o++)if(s.parents(t[o]).length){e.push(s);break}}const r=h.apply(this,arguments);return arguments.length&&(this.resetElementsAndMembers(),e.forEach(e=>e.resetElementsAndMembers())),r};const m=t.prototype.remove;t.prototype.remove=function(){const e=[];for(const t of Object.keys(o))if(o[t])for(let r=0;r<this.$members.length;r++)if(this.$members[r].parent(t).length){e.push(o[t]);break}return m.apply(this),e.forEach(e=>e.resetElementsAndMembers()),this},t.prototype.resetElementsAndMembers=function(){if(!(this.$members&&this.selector&&this.selector in o))return;const e=t(this.selector);let r=!1;if(this.length!==e.length)r=!0;else for(let t=0;t<this.length;t++)if(this[t]!==e[t]){r=!0;break}if(r){for(let e=0;e<this.length;e++)delete this[e];this.length=e.length,e.each((e,t)=>{this[e]=t}),this.populateMembers()}},"object"==typeof global&&(t.prototype.setBoundingClientRect=function(e,t){this.dispatchAction("setBoundingClientRect",e,t)});const u=t.prototype.text;t.prototype.text=function(){const e=[];if(arguments.length)for(const t of Object.keys(o)){const r=o[t];if(r)for(let t=0;t<this.length;t++)if(r.parents(this[t]).length){e.push(r);break}}const t=u.apply(this,arguments);return arguments.length&&(this.resetElementsAndMembers(),e.forEach(e=>e.resetElementsAndMembers())),t},t.prototype.updateMeasurements=function(e,t,o){if("number"==typeof o&&!this[o])return!1;let s,n;t&&(s="number"==typeof o||Array.isArray(o)?o:Array.isArray(t)?t.map((e,t)=>t):0);let i=!1;if("object"==typeof window&&"window"!==this.selector&&"document"!==this.selector)if(Array.isArray(t)&&Array.isArray(s)){for(let e=0;e<s.length;e++)if(this[s[e]]){n=window.getComputedStyle(this[s[e]]);break}}else t&&"number"==typeof s?t[0]&&(n=window.getComputedStyle(t[0])):n=window.getComputedStyle(this[0]);for(const o of["innerWidth","innerHeight","outerWidth","outerHeight","scrollLeft","scrollTop","width","height"]){const l=[];getMeasurement(this,o,l,n,t,s),e[o]!=l[0]&&(r.dispatch({type:convertMethodToType(o),selector:this.selector,$org:this,method:o,args:l,memberIdx:s}),i=!0)}if("window"===this.selector||"document"===this.selector)return i;const l=[];getBoundingClientRect(this,l,s);for(const t in l[0])if(e.boundingClientRect[t]!==l[0][t]){r.dispatch({type:"SET_BOUNDING_CLIENT_RECT",selector:this.selector,$org:this,method:"setBoundingClientRect",args:l,memberIdx:s}),i=!0;break}return i}};function getStateDefault(e,t){let o={};return"window"===e?o={data:{},innerWidth:null,innerHeight:null,outerWidth:null,outerHeight:null,scrollLeft:null,scrollTop:null,width:null,height:null}:"document"===e?o={activeOrganism:null,data:{},scrollLeft:null,scrollTop:null,width:null,height:null}:(o={attribs:{},boundingClientRect:{width:null,height:null,top:null,right:null,bottom:null,left:null,x:null,y:null},classArray:[],css:{},data:{},html:null,innerWidth:null,innerHeight:null,outerWidth:null,outerHeight:null,prop:{},scrollLeft:null,scrollTop:null,textContent:null,width:null,height:null},void 0===t&&(o.$members=[],o.members=void 0)),o}function stateBuild(e,t,o){try{const{args:r,memberIdx:s,method:n}=o;if(e[0]&&e[0].attribs)t.attribs=JSON.parse(JSON.stringify(e[0].attribs));else if(e[0]&&e[0].attributes&&e[0].attributes.length)for(let o=0;o<e[0].attributes.length;o++){const r=e[0].attributes[o];t.attribs[r.name]=r.value}let i=[];if(t.attribs&&"string"==typeof t.attribs.class&&(i=t.attribs.class.trim()?t.attribs.class.split(/\s+/):[],t.classArray=i),t.prop instanceof Object)for(const o of Object.keys(t.prop))t.prop[o]=e[0][o];switch(n){case"addClass":case"after":case"append":case"attr":case"before":break;case"css":if(t.attribs&&t.attribs.style)for(const e of t.attribs.style.split(";")){const o=e.trim();if(o){const e=o.split(":");t.css[e[0].trim()]=e[1].trim()}}if(r[0]instanceof Object&&r[0].constructor===Object)for(const e of Object.keys(r[0])){let o;if(""===r[0][e]&&delete t.css[e],e.indexOf("-")>-1){const t=e.split("-"),r=[];for(let e=0;e<t.length;e++)r[e]=0!==e?t[e][0].toUpperCase()+t[e].slice(1):t[e];o=r.join("")}o&&(t.css[o]=t.css[e]);const s=-1===e.indexOf("-")&&e.match(/[A-Z]/g)||[];let n=e;for(;s.length;){const e=s.pop();n=n.slice(0,n.lastIndexOf(e))+"-"+e.toLowerCase()+n.slice(n.lastIndexOf(e)+1)}n!==e&&n in t.css&&(""===r[0][e]?delete t.css[n]:t.css[e]=r[0][e])}break;case"data":if(r[0]&&"object"==typeof r[0])for(const e in r[0])t[n][e]=r[0][e];break;case"detach":case"empty":break;case"getBoundingClientRect":if(r[0]&&"object"==typeof r[0]){const e=r[0];for(const o in e)"number"==typeof e[o]&&(t.boundingClientRect[o]=e[o])}break;case"height":"number"==typeof r[0]&&(t[n]=r[0]);break;case"html":t[n]=r[0];break;case"innerHeight":case"innerWidth":case"outerWidth":case"outerHeight":"number"==typeof r[0]&&(t[n]=r[0]);break;case"prepend":break;case"prop":if(r[0]&&"object"==typeof r[0])for(const e in r[0])t[n][e]=r[0][e];break;case"remove":case"removeClass":break;case"removeData":if("string"==typeof r[0])if(r[0].indexOf(" ")>-1)for(const e of r[0].split(" "))delete t.data[e];else delete t.data[r[0]];else if(Array.isArray(r[0]))for(let e=0;e<r[0].length;e++)delete t.data[r[0][e]];break;case"scrollLeft":case"scrollTop":"number"==typeof r[0]&&(t[n]=r[0]);break;case"setActiveOrganism":"document"===e.selector&&(r[0]&&"string"==typeof r[0]?t.activeOrganism=r[0]:t.activeOrganism=null);break;case"setBoundingClientRect":if(r[0]&&"object"==typeof r[0]){const e=r[0];for(const e in t.boundingClientRect)t.boundingClientRect[e]!==r[0][e]&&null!=r[0][e]&&(t.boundingClientRect[e]=r[0][e]);if(t.$members&&"object"==typeof global&&global.$._root&&global.$._root.attribs)if("number"==typeof s&&t.$members[s])for(const o in e)t.$members[s].boundingClientRect[o]=e[o];else for(let o=0;o<t.$members.length;o++)if(t.$members[o])for(const r in e)t.$members[o].boundingClientRect[r]=e[r]}break;case"text":t.textContent=r[0];break;case"toggleClass":break;case"val":"string"!=typeof r[0]&&"number"!=typeof r[0]||(t[n]=r[0]+"");break;case"width":"number"==typeof r[0]&&(t[n]=r[0])}}catch(e){throw console.error(e),e}}function reducerClosure(e,t){return function(o,r){const{memberIdx:s,$org:n}=r;if(r.selector===e){const i=getStateDefault(e,s);let l;try{l=JSON.parse(JSON.stringify(o))}catch(e){l=JSON.parse(JSON.stringify(i))}if(l.$members){if(n.length<l.$members.length)try{let e=l.$members.length;for(;e--&&!n[e];)l.$members.pop()}catch(e){console.error(e)}else if(n.length>l.$members.length)try{for(let t=0;t<n.length;t++)l.$members[t]||(l.$members[t]=getStateDefault(e,t))}catch(e){console.error(e)}l.members=l.$members.length}if(stateBuild(n,l,r),"number"==typeof s)n.$members&&n.$members[s]&&l.$members&&l.$members[s]&&stateBuild(n.$members[s],l.$members[s],r);else if(Array.isArray(s))for(let e=0;e<s.length;e++){const t=s[e];n.$members&&n.$members[t]&&l.$members&&l.$members[t]&&stateBuild(n.$members[t],l.$members[t]||{},r)}if("function"==typeof t)try{const e=t(JSON.parse(JSON.stringify(l)),r,n,o);if(e&&"object"==typeof e){for(const t in e)if("function"==typeof e[t])return l;return e}}catch(e){console.error(e)}return l}return o||getStateDefault(e,s)}}var reducerGet=(e,t,o)=>{const r={};for(const t of Object.keys(e))r[t]=reducerClosure(t,o);return t.combineReducers(r)};class Requerio{constructor(e,t,o,r,s){this.$=e,this.Redux=t,this.$orgs=o,this.customReducer=r,this.storeEnhancer=s,this.store=null}init(){const e=reducerGet(this.$orgs,this.Redux,this.customReducer);this.store=this.Redux.createStore(e,this.storeEnhancer),prototypeOverride(this),organismsIncept(this.$orgs,this.$),postInception(this)}incept(...e){const t={};for(let o=0;o<e.length;o++){const r=e[o];null==this.$orgs[r]&&(this.$orgs[r]=t[r]=null)}organismsIncept(t,this.$);for(const e in t)this.$orgs[e]=t[e];postInception(this);const o=reducerGet(this.$orgs,this.Redux,this.customReducer);this.store.replaceReducer(o)}}"function"==typeof define?define(function(){return Requerio}):"object"==typeof window&&(window.Requerio=Requerio);export{Requerio as default};