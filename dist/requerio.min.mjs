var organismsIncept=(e,t)=>{for(let r of Object.keys(e)){if(e[r]&&e[r].hasRequerio)continue;let s;"document"===r&&("object"==typeof document?s=t(document):(s=t(r)).$members.push({})),"window"===r&&("object"==typeof window?s=t(window):(s=t(r)).$members.push({})),s||(s=t(r)),s.prevAction=null,void 0===s.selector&&(s.selector=r),"document"!==r&&"window"!==r&&s.populateMembers(),void 0===s.innerWidth&&(s.innerWidth=(e=>{if(void 0===e)return s.$members[0]?s.$members[0]._innerWidth:null;for(let t=0;t<s.$members.length;t++)s.$members[t]._innerWidth=e;return s})),void 0===s.innerHeight&&(s.innerHeight=(e=>{if(void 0===e)return s.$members[0]?s.$members[0]._innerHeight:null;for(let t=0;t<s.$members.length;t++)s.$members[t]._innerHeight=e;return s})),void 0===s.outerWidth&&(s.outerWidth=(e=>{if(void 0===e)return s.$members[0]?s.$members[0]._outerWidth:null;for(let t=0;t<s.$members.length;t++)s.$members[t]._outerWidth=e;return s})),void 0===s.outerHeight&&(s.outerHeight=(e=>{if(void 0===e)return s.$members[0]?s.$members[0]._outerHeight:null;for(let t=0;t<s.$members.length;t++)s.$members[t]._outerHeight=e;return s})),void 0===s.scrollLeft&&(s.scrollLeft=(e=>{if(void 0===e)return s.$members[0]?s.$members[0]._scrollLeft:null;for(let t=0;t<s.$members.length;t++)s.$members[t]._scrollLeft=e;return s})),void 0===s.scrollTop&&(s.scrollTop=(e=>{if(void 0===e)return s.$members[0]?s.$members[0]._scrollTop:null;for(let t=0;t<s.$members.length;t++)s.$members[t]._scrollTop=e;return s})),void 0===s.width&&(s.width=(e=>{if(void 0===e)return s.$members[0]?s.$members[0]._width:null;for(let t=0;t<s.$members.length;t++)s.$members[t]._width=e;return s})),void 0===s.height&&(s.height=(e=>{if(void 0===e)return s.$members[0]?s.$members[0]._height:null;for(let t=0;t<s.$members.length;t++)s.$members[t]._height=e;return s})),e[r]=s}};function getActiveOrganism(e,t){if("object"==typeof document&&document.activeElement&&document.activeElement!==document.body){if(document.activeElement.tagName&&t&&document.activeElement.tagName.toLowerCase()===t.toLowerCase())return t;for(let e=0;e<document.activeElement.attributes.length;e++){const r=document.activeElement.attributes[e];if("id"===r.name&&`#${r.value}`===t||"class"===r.name&&`.${r.value}`===t)return t}for(let t of Object.keys(e)){const r=e[t];for(let e=0;e<r.length;e++){const t=r[e];if("object"==typeof global&&"object"==typeof document&&global.$._root&&global.$._root.attribs){if(!document.activeElement.tagName||!t.name||document.activeElement.tagName.toLowerCase()!==t.name.toLowerCase())continue;for(let e=0;e<document.activeElement.attributes.length;e++){const s=document.activeElement.attributes[e];if("id"===s.name&&s.value===t.attribs.id||"class"===s.name&&s.value===t.attribs.class)return r.selector}}else if(document.activeElement===t)return r.selector}}}}var postInception=e=>{const{$orgs:t,store:r}=e;for(let s of Object.keys(t)){if(t[s]&&t[s].hasRequerio)continue;const o=t[s];if(o.hasRequerio=!0,t.document){let r=()=>{};"function"==typeof o.blur&&(r=o.blur),o.blur=(()=>{r.call(o),"object"==typeof global&&document&&document.querySelector&&document.querySelector(o.selector).blur(),e.store.getState().document.activeOrganism===o.selector&&t.document.dispatchAction("setActiveOrganism",null)})}if(t.document){let e=()=>{};"function"==typeof o.focus&&(e=o.focus),o.focus=(()=>{e.call(o),"object"==typeof global&&document&&document.querySelector&&document.querySelector(o.selector).focus(),t.document.dispatchAction("setActiveOrganism",o.selector)})}"document"!==s&&"window"!==s||(o.getState=(()=>{if("document"===s&&"object"==typeof document){const e=r.getState()[s].activeOrganism,n=getActiveOrganism(t,e);void 0!==n&&n!==e&&o.dispatchAction("setActiveOrganism",n)}const e=r.getState()[s];return"window"===s&&"object"==typeof window&&o.updateMeasurements(e),e}))}};function applyMethod(e,t,r,s){if(Array.isArray(s))for(let e of s)"function"==typeof e[t]&&e[t].apply(e,r);else s?"function"==typeof s[t]&&s[t].apply(s,r):"function"==typeof e[t]&&e[t].apply(e,r)}function applyAttr(e,t,r,s){if(t.length)applyMethod(e,"attr",t,r);else if(e[0]&&e[0].attribs)if(Array.isArray(s)){for(let r of s)if(e[r]&&e[r].attribs){t[0]=e[r].attribs;break}}else e[s]&&e[s].attribs?t[0]=e[s].attribs:t[0]=e[0].attribs;else if(e[0]&&e[0].attributes)if(Array.isArray(s)){for(let r of s)if(e[r]&&e[r].attributes&&e[r].attributes.length){const s={};for(let t=0;t<e[r].attributes.length;t++){const o=e[r].attributes[t];s[o.name]=o.value}t[0]=s;break}}else if(e[s]&&e[s].attributes&&e[s].attributes.length){const r={};for(let t=0;t<e[s].attributes.length;t++){const o=e[s].attributes[t];r[o.name]=o.value}t[0]=r}else if(e[0].attributes.length){const r={};for(let t=0;t<e[0].attributes.length;t++){const s=e[0].attributes[t];r[s.name]=s.value}t[0]=r}}function applyCss(e,t,r){if(Array.isArray(r)){if(t[0]instanceof Object&&t[0].constructor===Object)for(let e of r)e.css.apply(e,t);for(let e of r){if(t[0]instanceof Object&&t[0].constructor===Object){const r=Object.keys(t[0]);t[0]=e.css.apply(e,[r])}else if("string"==typeof t[0]){const r=t[0],s=e.css.apply(e,t);t[0]={},t[0][r]=s}else Array.isArray(t[0])?t[0]=e.css.apply(e,t):t[0]={};break}r.length||(t[0]={})}else if(r)if(t[0]instanceof Object&&t[0].constructor===Object){r.css.apply(r,t);const e=Object.keys(t[0]);1===e.length?(t[0]={},t[0][e[0]]=r.css.apply(r,e)):t[0]=r.css.apply(r,[e])}else if("string"==typeof t[0]){const e=t[0],s=r.css.apply(r,t);t[0]={},t[0][e]=s}else Array.isArray(t[0])&&(t[0]=r.css.apply(r,t));else if(t[0]instanceof Object&&t[0].constructor===Object){e.css.apply(e,t);const r=Object.keys(t[0]);1===r.length?(t[0]={},t[0][r[0]]=e.css.apply(e,r)):t[0]=e.css.apply(e,[r])}else if("string"==typeof t[0]){const r=t[0],s=e.css.apply(e,t);t[0]={},t[0][r]=s}else Array.isArray(t[0])&&(t[0]=e.css.apply(e,t));for(let r of Object.keys(t[0])){let s;if(r.includes("-")){const e=r.split("-"),t=[];for(let r=0;r<e.length;r++)t[r]=0!==r?e[r][0].toUpperCase()+e[r].slice(1):e[r];s=t.join("")}e[0].style&&s in e[0].style&&(t[0][s]=t[0][r],delete t[0][r])}}function applyData(e,t,r){if(t[0]instanceof Object&&t[0].constructor===Object&&applyMethod(e,"data",t,r),Array.isArray(r))for(let e of r){const r=e.data.apply(e);t[0]=null==r.constructor?Object.assign({},r):r;break}else if(r){const e=r.data.apply(r);t[0]=null==e.constructor?Object.assign({},e):e}else{const r=e.data.apply(e);t[0]=null==r.constructor?Object.assign({},r):r}}function convertMethodToType(e){return e.replace(/([A-Z])/g,"_$1").toUpperCase()}function getBoundingClientRect(e,t,r){const s="getBoundingClientRect";return Array.isArray(r)?r.forEach(r=>{"function"==typeof e[s]?t[0]=e[s].call(e,r):"object"==typeof window&&e[r]&&"function"==typeof e[r][s]&&(t[0]=e[r][s].call(e[r]))}):"number"==typeof r?"function"==typeof e[s]?t[0]=e[s].call(e,r):"object"==typeof window&&e[r]&&"function"==typeof e[r][s]&&(t[0]=e[r][s].call(e[r])):"function"==typeof e[s]?t[0]=e[s].call(e):"object"==typeof window&&e[0]&&"function"==typeof e[0][s]&&(t[0]=e[0][s].call(e[0])),t}function getMeasurementSwitch(e,t,r,s){switch(e){case"innerWidth":return"window"===t.selector?r.innerWidth:"document"===t.selector?void 0:"content-box"===s.boxSizing?parseInt(s.width,10)+(parseInt(s.paddingLeft,10)||0)+(parseInt(s.paddingRight,10)||0):parseInt(s.width,10)-(parseInt(s.borderLeftWidth,10)||0)-(parseInt(s.borderRightWidth,10)||0);case"innerHeight":return"window"===t.selector?r.innerHeight:"document"===t.selector?void 0:"content-box"===s.boxSizing?parseInt(s.height,10)+(parseInt(s.paddingTop,10)||0)+(parseInt(s.paddingBottom,10)||0):parseInt(s.height,10)-(parseInt(s.borderTopWidth,10)||0)-(parseInt(s.borderBottomWidth,10)||0);case"outerWidth":return"window"===t.selector?r.outerWidth:"document"===t.selector?void 0:"content-box"===s.boxSizing?parseInt(s.width,10)+(parseInt(s.paddingLeft,10)||0)+(parseInt(s.paddingRight,10)||0)+(parseInt(s.borderLeftWidth,10)||0)+(parseInt(s.borderRightWidth,10)||0)+(parseInt(s.marginLeft,10)||0)+(parseInt(s.marginRight,10)||0):parseInt(s.width,10)+(parseInt(s.marginLeft,10)||0)+(parseInt(s.marginRight,10)||0);case"outerHeight":return"window"===t.selector?r.outerHeight:"document"===t.selector?void 0:"content-box"===s.boxSizing?parseInt(s.height,10)+(parseInt(s.paddingTop,10)||0)+(parseInt(s.paddingBottom,10)||0)+(parseInt(s.borderTopWidth,10)||0)+(parseInt(s.borderBottomWidth,10)||0)+(parseInt(s.marginTop,10)||0)+(parseInt(s.marginBottom,10)||0):parseInt(s.height,10)+(parseInt(s.marginTop,10)||0)+(parseInt(s.marginBottom,10)||0);case"scrollLeft":return"window"===t.selector?r.pageXOffset:"document"===t.selector?r.documentElement.scrollLeft:r.scrollLeft;case"scrollTop":return"window"===t.selector?r.pageYOffset:"document"===t.selector?r.documentElement.scrollTop:r.scrollTop;case"width":return"window"===t.selector?r.innerWidth:"document"===t.selector?Math.max(r.body.scrollWidth,r.documentElement.scrollWidth,r.body.offsetWidth,r.documentElement.offsetWidth,r.documentElement.clientWidth):"content-box"===s.boxSizing?parseInt(s.width,10):parseInt(s.width,10)-(parseInt(s.paddingLeft,10)||0)-(parseInt(s.paddingRight,10)||0)-(parseInt(s.borderLeftWidth,10)||0)-(parseInt(s.borderRightWidth,10)||0);case"height":return"window"===t.selector?r.innerHeight:"document"===t.selector?Math.max(r.body.scrollHeight,r.documentElement.scrollHeight,r.body.offsetHeight,r.documentElement.offsetHeight,r.documentElement.clientHeight):"content-box"===s.boxSizing?parseInt(s.height,10):parseInt(s.height,10)-(parseInt(s.paddingTop,10)||0)-(parseInt(s.paddingBottom,10)||0)-(parseInt(s.borderTopWidth,10)||0)-(parseInt(s.borderBottomWidth,10)||0)}}function getMeasurement(e,t,r,s,o){if(Array.isArray(o)){for(let n of o)if("object"==typeof window)r[0]=getMeasurementSwitch(t,e,n[0],s);else if("function"==typeof n[t]){r[0]=n[t].apply(n);break}}else o?"object"==typeof window?r[0]=getMeasurementSwitch(t,e,o[0],s):"function"==typeof o[t]&&(r[0]=o[t].apply(o)):"object"==typeof window?r[0]=getMeasurementSwitch(t,e,e[0],s):"function"==typeof e[t]&&(r[0]=e[t].apply(e));return r[0]=isNaN(r[0])?void 0:r[0],r}var prototypeOverride=e=>{const{$:t,$orgs:r,store:s}=e;t.prototype.$members=[];const o=t.prototype.after;t.prototype.after=function(){const e=[],t=this.parent();if(arguments.length)for(let s of Object.keys(r)){const o=r[s];for(let r=0;r<t.length;r++)if(o.parents(t[r]).length){e.push(o);break}}const s=o.apply(this,arguments);if(arguments.length){this.resetElementsAndMembers();for(let t of e)t.resetElementsAndMembers()}return s};const n=t.prototype.append;t.prototype.append=function(){const e=[];if(arguments.length)for(let t of Object.keys(r)){const s=r[t];for(let t=0;t<this.length;t++)if(s.parents(this[t]).length){e.push(s);break}}const t=n.apply(this,arguments);if(arguments.length){this.resetElementsAndMembers();for(let t of e)t.resetElementsAndMembers()}return t};const i=t.prototype.before;t.prototype.before=function(){const e=[],t=this.parent();if(arguments.length)for(let s of Object.keys(r)){const o=r[s];for(let r=0;r<t.length;r++)if(o.parents(t[r]).length){e.push(o);break}}const s=i.apply(this,arguments);if(arguments.length){this.resetElementsAndMembers();for(let t of e)t.resetElementsAndMembers()}return s},t.prototype.blur||(t.prototype.blur=function(){});const l=t.prototype.detach;t.prototype.detach=function(){const e=[];for(let t of Object.keys(r))for(let s=0;s<this.$members.length;s++)if(this.$members[s].parent(t).length){e.push(r[t]);break}"function"==typeof l?l.apply(this):this.remove();for(let t of e)t.resetElementsAndMembers();return this},t.prototype.dispatchAction=function(e,r,o){const n=convertMethodToType(e);let i=[];null!=r&&(i=[r]);let l,c=o,a=0;if(this.$members.forEach(()=>a++),a<this.$members.length&&(c=[],this.$members.forEach((e,t)=>c.push(t))),Array.isArray(c)){l=[];for(let e of c)l.push(t(this[e]))}else if("number"==typeof c){if(void 0===this[c])return;l=t(this[c])}switch(e){case"attr":applyAttr(this,i,l,c);break;case"css":applyCss(this,i,l);break;case"data":applyData(this,i,l);break;case"empty":applyMethod(this,"empty",i,l||this.$members);break;case"getBoundingClientRect":if("document"===this.selector||"window"===this.selector)break;getBoundingClientRect(this,i,c);break;case"html":case"append":case"prepend":case"text":{let t,r;i.length&&applyMethod(this,e,i,l),Array.isArray(l)&&Array.isArray(c)?i.length?"object"==typeof window?(t=this[c[0]].innerHTML,r=this[c[0]].textContent):(t=l[0].html(),r=l[0].text()):l.forEach((e,o)=>{let n,i;"object"==typeof window?(n=e[0].innerHTML,i=e[0].textContent):(n=e.html(),i=e.text()),s.dispatch({type:"HTML",selector:this.selector,$org:this,method:"html",args:[n],memberIdx:c}),s.dispatch({type:"TEXT",selector:this.selector,$org:this,method:"text",args:[i],memberIdx:c}),0===o&&(t=n,r=i)}):l&&"number"==typeof c?"object"==typeof window?(t=l[0].innerHTML,r=l[0].textContent):(t=l.html(),r=l.text()):"object"==typeof window?(t=this[0].innerHTML,r=this[0].textContent):(t=this.html(),r=this.$members[0].text()),"html"!==e&&null!=t&&s.dispatch({type:"HTML",selector:this.selector,$org:this,method:"html",args:[t],memberIdx:c}),"text"!==e&&null!=r&&s.dispatch({type:"TEXT",selector:this.selector,$org:this,method:"text",args:[r],memberIdx:c}),"html"===e?i[0]=t:"text"===e&&(i[0]=r);break}case"innerWidth":case"innerHeight":case"outerWidth":case"outerHeight":case"scrollLeft":case"scrollTop":case"width":case"height":{let t;"object"==typeof window&&(t=getComputedStyle(this[c||0])),i.length?applyMethod(this,e,i,l):getMeasurement(this,e,i,t,l);break}case"setActiveOrganism":case"setBoundingClientRect":break;case"toggleClass":Array.isArray(i[0])&&(i=i[0]),applyMethod(this,e,i,l);break;default:applyMethod(this,e,i,l)}return a<this.$members.length&&this.populateMembers(),this.prevAction=s.dispatch({type:n,selector:this.selector,$org:this,method:e,args:i,memberIdx:c}),this};const c=t.prototype.empty;t.prototype.empty=function(){const e=[];for(let t of Object.keys(r)){const s=r[t];for(let t=0;t<this.length;t++)if(s.parents(this[t]).length){e.push(s);break}}const t=c.apply(this);this.resetElementsAndMembers();for(let t of e)t.resetElementsAndMembers();return t},t.prototype.exclude=function(e){if("function"==typeof e)return this.each((t,r)=>{e.call(r,t,r)&&delete this.$members[t]}),this;{let r=e;e.constructor!==t&&(r=t(e));const s=[];this.each(e=>{this.$members[e]&&this.$members[e][0]&&s.push(this.$members[e][0])});for(let e=0;e<s.length;e++)r.each((t,r)=>{s[e]===r&&delete this.$members[e]});return this}},t.prototype.focus||(t.prototype.focus=function(){}),"object"==typeof global&&(t.prototype.getBoundingClientRect=function(e){const t=s.getState()[this.selector];let r={};"number"==typeof e?t.$members[e]&&t.$members[e].boundingClientRect&&(r=t.$members[e].boundingClientRect):r=t.boundingClientRect;for(let e of Object.keys(r))if(null!==r[e])return r;return{bottom:null,height:null,left:null,right:null,top:null,width:null}}),t.prototype.getState=function(e){const t=this.$members[e];let r,o=0,n=!1;"number"==typeof e&&(o=e,(r=s.getState()[this.selector].$members[e])||(n=!0)),r||(r=s.getState()[this.selector]),Array.isArray(this.$members)&&Array.isArray(r.$members)&&this.$members.length!==r.$members.length&&(n=this.updateMeasurements(r,t,r.$members.length)),n=this.updateMeasurements(r,t,e)||n;let i,l={};if("object"==typeof window){const e=this[o].attributes;for(let t=0,r=e.length;t<r;t++)l[e[t].name]=e[t].value}else l=this[o].attribs;if(JSON.stringify(r.attribs)!==JSON.stringify(l)&&(s.dispatch({type:"ATTR",selector:this.selector,$org:this,method:"attr",args:[l],memberIdx:e}),n=!0),i="object"==typeof window?this[o].innerHTML:t?t.html():this.html(),r.html&&r.html!==i){let l;s.dispatch({type:"HTML",selector:this.selector,$org:this,method:"html",args:[i],memberIdx:e}),l="object"==typeof window?this[o].textContent:t?t.text():this.text(),r.text!==l&&s.dispatch({type:"TEXT",selector:this.selector,$org:this,method:"text",args:[l],memberIdx:e}),n=!0}let c={};for(let e of Object.keys(r.prop))"object"==typeof window?e in this[o]&&(c[e]=this[o][e]):c[e]=t?t.prop(e):this.prop(e);if(JSON.stringify(r.prop)!==JSON.stringify(c)&&(s.dispatch({type:"PROP",selector:this.selector,$org:this,method:"prop",args:[c],memberIdx:e}),n=!0),void 0!==r.val){let i;(i="object"==typeof window?this[o].value:t?t.val():this.val())!==r.val&&(s.dispatch({type:"VAL",selector:this.selector,$org:this,method:"val",args:[i],memberIdx:e}),n=!0)}return n&&(r="number"==typeof e?s.getState()[this.selector].$members[e]:s.getState()[this.selector]),r},t.prototype.getStore=function(){return s},t.prototype.hasChild=function(e){for(let t=0;t<this.$members.length;t++){if(this.$members[t]){const r=this.$members[t].children(e);if(r.length){if("string"==typeof e)continue;if(r[0]===e)continue}}delete this.$members[t]}return this},t.prototype.hasElement=function(e){for(let t=0;t<this.$members.length;t++)this.$members[t]&&this.$members[t][0]===e||delete this.$members[t];return this},t.prototype.hasNext=function(e){for(let t=0;t<this.$members.length;t++){if(this.$members[t]){const r=this.$members[t].next(e);if(r.length){if("string"==typeof e)continue;if(r[0]===e)continue}}delete this.$members[t]}return this},t.prototype.hasParent=function(e){for(let t=0;t<this.$members.length;t++){if(this.$members[t]){const r=this.$members[t].parent(e);if(r.length){if("string"==typeof e)continue;if(r[0]===e)continue}}delete this.$members[t]}return this},t.prototype.hasPrev=function(e){for(let t=0;t<this.$members.length;t++){if(this.$members[t]){const r=this.$members[t].prev(e);if(r.length){if("string"==typeof e)continue;if(r[0]===e)continue}}delete this.$members[t]}return this},t.prototype.hasSelector=function(e){const r=t(e);for(let e=0;e<this.$members.length;e++){if(!this.$members[e])continue;let t=!1;for(let s=0;s<r.length;s++)if(this.$members[e][0]===r[s]){t=!0;break}t||delete this.$members[e]}return this},t.prototype.hasSibling=function(e){for(let t=0;t<this.$members.length;t++){if(!this.$members[t])continue;!!this.$members[t].siblings(e).length||delete this.$members[t]}return this};const a=t.prototype.html;t.prototype.html=function(){const e=[];if(arguments.length)for(let t of Object.keys(r)){const s=r[t];for(let t=0;t<this.length;t++)if(s.parents(this[t]).length){e.push(s);break}}const t=a.apply(this,arguments);if(arguments.length){this.resetElementsAndMembers();for(let t of e)t.resetElementsAndMembers()}return t},t.prototype.populateMembers=function(){if(!(this.selector&&this.selector in r))return;if("document"===this.selector||"window"===this.selector)return;const e=this;e.$members=[],e.each((r,s)=>{e.$members.push(t(s))})};const h=t.prototype.prepend;t.prototype.prepend=function(){const e=[],t=this.parent();if(arguments.length)for(let s of Object.keys(r)){const o=r[s];for(let r=0;r<t.length;r++)if(o.parents(t[r]).length){e.push(o);break}}const s=h.apply(this,arguments);if(arguments.length){this.resetElementsAndMembers();for(let t of e)t.resetElementsAndMembers()}return s};const m=t.prototype.remove;t.prototype.remove=function(){const e=[];for(let t of Object.keys(r))for(let s=0;s<this.$members.length;s++)if(this.$members[s].parent(t).length){e.push(r[t]);break}m.apply(this);for(let t of e)t.resetElementsAndMembers();return this},t.prototype.resetElementsAndMembers=function(){if(!(this.selector&&this.selector in r))return;const e=t(this.selector);let s=!1;if(this.length!==e.length)s=!0;else for(let t=0;t<this.length;t++)if(this[t]!==e[t]){s=!0;break}if(s){for(let e=0;e<this.length;e++)delete this[e];this.length=e.length,e.each((e,t)=>{this[e]=t}),this.populateMembers()}},"object"==typeof global&&(t.prototype.setBoundingClientRect=function(e,t){this.dispatchAction("setBoundingClientRect",e,t)});const p=t.prototype.text;t.prototype.text=function(){const e=[];if(arguments.length)for(let t of Object.keys(r)){const s=r[t];for(let t=0;t<this.length;t++)if(s.parents(this[t]).length){e.push(s);break}}const t=p.apply(this,arguments);if(arguments.length){this.resetElementsAndMembers();for(let t of e)t.resetElementsAndMembers()}return t},t.prototype.updateMeasurements=function(e,t,r){let o,n=!1;"object"==typeof window&&(o=getComputedStyle(this[r||0]));for(let i of["innerWidth","innerHeight","outerWidth","outerHeight","scrollLeft","scrollTop","width","height"]){const l=[];getMeasurement(this,i,l,o,t),e[i]!=l[0]&&(s.dispatch({type:convertMethodToType(i),selector:this.selector,$org:this,method:i,args:l,memberIdx:r}),n=!0)}if("window"===this.selector)return!1;const i=[];getBoundingClientRect(this,i,r);for(let t in i[0])if(e.boundingClientRect[t]!==i[0][t]){s.dispatch({type:"SET_BOUNDING_CLIENT_RECT",selector:this.selector,$org:this,method:"setBoundingClientRect",args:i,memberIdx:r}),n=!0;break}return n}};function getStateDefault(e){let t={};return t="document"===e?{activeOrganism:null,data:{},innerWidth:null,innerHeight:null,outerWidth:null,outerHeight:null,scrollTop:null,width:null,height:null}:"window"===e?{data:{},innerWidth:null,innerHeight:null,outerWidth:null,outerHeight:null,scrollTop:null,width:null,height:null}:{attribs:{},boundingClientRect:{width:null,height:null,top:null,right:null,bottom:null,left:null,x:null,y:null},classArray:[],classList:[],css:{},data:{},html:null,innerHTML:null,innerWidth:null,innerHeight:null,outerWidth:null,outerHeight:null,prop:{},scrollTop:null,style:{},text:null,textContent:null,width:null,height:null,$members:[]}}function stateBuild(e,t,r){try{const s=r.memberIdx;if(e[0]&&e[0].attribs)t.attribs=JSON.parse(JSON.stringify(e[0].attribs));else if(e[0]&&e[0].attributes&&e[0].attributes.length)for(let r=0;r<e[0].attributes.length;r++){const s=e[0].attributes[r];t.attribs[s.name]=s.value}let o=[];if(t.attribs&&"string"==typeof t.attribs.class&&(o=t.attribs.class.trim()?t.attribs.class.split(/\s+/):[],t.classArray=o,t.classList=t.classArray),t.prop instanceof Object)for(let r of Object.keys(t.prop))t.prop[r]=e[0][r];switch(r.method){case"addClass":case"after":case"append":break;case"attr":r.args[0]instanceof Object&&r.args[0].constructor===Object&&Object.assign(t.attribs,r.args[0]);break;case"before":break;case"css":Object.assign(t.css,r.args[0]),t.style=t.css;break;case"data":r.args[0]instanceof Object&&r.args[0].constructor===Object&&(t.data||(t.data={}),Object.assign(t.data,r.args[0]));break;case"detach":case"empty":break;case"getBoundingClientRect":if(1===r.args.length&&"object"==typeof r.args[0]&&r.args[0]instanceof Object){const e=r.args[0];for(let r in e)"number"==typeof e[r]&&(t.boundingClientRect[r]=e[r])}break;case"height":1===r.args.length&&"number"==typeof r.args[0]&&(t[r.method]=r.args[0],"object"==typeof global&&global.$._root&&global.$._root.attribs&&(t.boundingClientRect.height=r.args[0]));break;case"html":1!==r.args.length||void 0!==s&&t.$members.length||(t[r.method]=r.args[0],t.innerHTML=t.html);break;case"innerHeight":case"innerWidth":case"outerWidth":case"outerHeight":1===r.args.length&&"number"==typeof r.args[0]&&(t[r.method]=r.args[0]);break;case"prepend":break;case"prop":r.args[0]instanceof Object&&r.args[0].constructor===Object&&Object.assign(t.prop,r.args[0]);break;case"remove":case"removeClass":break;case"removeData":"string"==typeof r.args[0]?r.args[0].includes(" ")?r.args[0].split(" ").forEach(e=>{delete t.data[e]}):delete t.data[r.args[0]]:Array.isArray(r.args[0])&&r.args[0].forEach(e=>{delete t.data[e]});break;case"scrollLeft":case"scrollTop":1===r.args.length&&"number"==typeof r.args[0]&&(t[r.method]=r.args[0]);break;case"setActiveOrganism":"document"===e.selector&&(t.activeOrganism=r.args[0]||null);break;case"setBoundingClientRect":if("object"==typeof r.args[0]&&r.args[0]instanceof Object){const e=r.args[0];for(let e in t.boundingClientRect)t.boundingClientRect[e]!==r.args[0][e]&&null!=r.args[0][e]&&(t.boundingClientRect[e]=r.args[0][e]);if("object"==typeof global&&global.$._root&&global.$._root.attribs)if("number"==typeof s&&t.$members[s])Object.assign(t.$members[s].boundingClientRect,e);else for(let r of t.$members)Object.assign(r.boundingClientRect,e)}break;case"text":1!==r.args.length||void 0!==s&&t.$members.length||(t[r.method]=r.args[0],t.textContent=t.text);break;case"toggleClass":break;case"val":1===r.args.length&&(t[r.method]=r.args[0]+"");break;case"width":1===r.args.length&&"number"==typeof r.args[0]&&(t[r.method]=r.args[0],"object"==typeof global&&global.$._root&&global.$._root.attribs&&(t.boundingClientRect.width=r.args[0]))}}catch(e){throw console.error(e),e}}function reducerClosure(e,t){return function(r,s){if(s.selector===e){const o=s.$org,n=getStateDefault(e);let i;try{i=JSON.parse(JSON.stringify(r))}catch(e){i=JSON.parse(JSON.stringify(n))}if(Array.isArray(o.$members)&&Array.isArray(i.$members))if(o.$members.length<i.$members.length)try{i.$members=[];for(let e=0;e<o.$members.length;e++)i.$members[e]=JSON.parse(JSON.stringify(n))}catch(e){console.error(e)}else if(o.$members.length>i.$members.length)try{for(let e=0;e<o.$members.length;e++)i.$members[e]||(i.$members[e]=JSON.parse(JSON.stringify(n)))}catch(e){console.error(e)}stateBuild(o,i,s);const l=s.memberIdx;if("number"==typeof l&&o.$members[l]&&i.$members[l])stateBuild(o.$members[l],i.$members[l],s);else if(Array.isArray(l))for(let e of l)o.$members[e]&&stateBuild(o.$members[e],i.$members[e]||{},s);if("function"==typeof t){const e=t(i,s,o,r);if("object"==typeof e&&e instanceof Object){for(let t of Object.keys(e))if("function"==typeof e[t])return i;return e}}return i}return r||getStateDefault(e)}}var reducerGet=(e,t,r)=>{const s={};for(let t of Object.keys(e))s[t]=reducerClosure(t,r);return t.combineReducers(s)};class Requerio{constructor(e,t,r,s,o){this.$=e,this.Redux=t,this.$orgs=r,this.customReducer=s,this.storeEnhancer=o,this.store=null}init(){const e=reducerGet(this.$orgs,this.Redux,this.customReducer);this.store=this.Redux.createStore(e,this.storeEnhancer),prototypeOverride(this),organismsIncept(this.$orgs,this.$),postInception(this)}incept(...e){const t={};for(let r=0;r<e.length;r++){const s=e[r];void 0===this.$orgs[s]&&(t[s]=null)}organismsIncept(t,this.$),Object.assign(this.$orgs,t),postInception(this);const r=reducerGet(this.$orgs,this.Redux,this.customReducer);this.store.replaceReducer(r)}}"function"==typeof define?define(function(){return Requerio}):"object"==typeof window&&(window.Requerio=Requerio);export default Requerio;